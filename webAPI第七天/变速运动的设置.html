<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            padding: 0;
            margin: 0;
            ;
        }

        #box1 {
            width: 100px;
            height: 100px;
            background-color: red;
            position: relative;
        }
        #box2 {
            width: 100px;
            height: 100px;
            background-color: rgb(151, 29, 231);
            position: relative;
        }
    </style>
</head>

<body>
    <button id='btn1'>按钮1</button>
    <button id='btn2'>按钮2</button>
    <div id="box1">div1</div>
    <div id="box2">div2</div>
    <script>
        //   获取元素
        var btn1 = document.getElementById('btn1');
        var btn2 = document.getElementById('btn2');
        var box1 = document.getElementById('box1');
        var box2 = document.getElementById('box2');
        var timer = null;
        // 鼠标点击时的效果
        btn1.onclick = function () {
           move(box1,400);
        };
        btn2.onclick = function(){
            move(box2,800);
        };
        function move (element,target) {
            //清除旧的定时器，防止加速问题
            clearInterval(element.timer);
            //开启新的定时器
            element.timer = setInterval(function () {
                //获取元素当前位置 
                var current = element.offsetLeft;
                //设置运动的步长 (目标位置 - 当前位置) / 10
                var step = (target - current) / 10;
                //对step取整数
                // step = Math.ceil(step);根据step的正负设置不同的取整方式
                step = step > 0 ?Math.ceil(step) : Math.floor(step)
                //套用运动公式；元素的新位置 = 元素的旧位置 + 步长
                current = current + step;
                //将新位置设置给left属性
               element.style.left = current + 'px';
                //清除定时器
                if(current === target) {
                    clearInterval(element.timer);
                }
            }, 20);
        }
    </script>
</body>

</html>